---
title: How the UID2 Token Is Created
description: UID2 Token を作成する方法に関するリファレンス情報。
hide_table_of_contents: false
sidebar_position: 06
displayed_sidebar: docs
---

import Link from '@docusaurus/Link';

# How the UID2 Token Is Created

<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> 31f0816 (Update from https://github.com/IABTechLab/uid2docs/commit/acb34a6c79a83aa6ad06c08b8a72e2bb3ff32a8f)
:::note
この記事では、パブリッシャーがビッドストリームで送信する UID2 Token の作成方法について説明します。広告主がコンバージョンピクセルのために UID2 Token を作成する場合も同じプロセスが適用されます。UID2 Token を他の共有参加者に送信する前に、raw UID2 が UID2 Token に暗号化される <Link href="../ref-info/glossary-uid#gl-tokenized-sharing">Tokenized Sharing</Link>には適用されません。
:::

<<<<<<< HEAD
When a publisher sends a user's <Link href="../ref-info/glossary-uid#gl-dii">DII</Link>&#8212;<Link href="../ref-info/glossary-uid#gl-hash">hashed</Link> or unhashed email addresses or phone numbers&#8212;to the UID2 Operator, and in return receives a <Link href="../ref-info/glossary-uid#gl-uid2-token">UID2 token</Link> to use for targeted advertising, there is a very specific sequence of processing steps that occurs along the way.
=======
When a publisher sends <Link href="../ref-info/glossary-uid#gl-dii">DII</Link> (email or phone number) to UID2, and in return receives a <Link href="../ref-info/glossary-uid#gl-uid2-token">UID2 token</Link> to use for targeted advertising, there is a very specific sequence of processing steps that occurs along the way.
>>>>>>> 1ede9aa (Update from https://github.com/IABTechLab/uid2docs/commit/c9d902a1e3bc9f0705fcab32da506c452118cb6e)
=======
When a publisher sends a user's <Link href="../ref-info/glossary-uid#gl-dii">DII</Link>&#8212;<Link href="../ref-info/glossary-uid#gl-hash">hashed</Link> or unhashed email addresses or phone numbers&#8212;to the UID2 Operator, and in return receives a <Link href="../ref-info/glossary-uid#gl-uid2-token">UID2 token</Link> to use for targeted advertising, there is a very specific sequence of processing steps that occurs along the way.
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
=======
パブリッシャーがユーザーの <Link href="../ref-info/glossary-uid#gl-dii">DII</Link>（ハッシュ化されたまたはハッシュ化されていないメールアドレスまたは電話番号）を UID2 <Link href="../ref-info/glossary-uid#gl-operator">Operator</Link> に送信し、ターゲティング広告に使用するための UID2 Token を受け取ると、その過程で特定の処理手順が実行されます。
>>>>>>> 6cd49ff (Update from https://github.com/IABTechLab/uid2docs/commit/470efa727aa7532fad7cf4018b4debf05568c0f8)

パブリッシャーによってはいくつかの事前作業が行われますが、ほとんどの処理ステップは UID2 Operator によって行われます。

<<<<<<< HEAD
It's very important that the publisher steps are performed in the correct sequence:
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
- When steps are performed in sequence, the resulting value can be recognized as related to other [UID2 identifiers](uid-infrastructure.md#uid2-identifier-types) generated from online activity by the same individual: the underlying [raw UID2](../ref-info/glossary-uid.md#gl-raw-uid2) matches the raw UID2s generated by other UID2 participants from the same DII, and therefore the token is suitable for targeted advertising.
- If steps are taken out of sequence, the resulting value cannot be related to other UID2 identifiers generated from online activity by the same individual, and therefore the token is not suitable for targeted advertising.
=======
- When steps are performed in sequence, the resulting value **matches** other instances of tokens generated from online activity by the same individual, and therefore the token is **valuable** for targeted advertising.
- If steps are taken out of sequence, the resulting value **does not match** other instances of tokens generated from online activity by the same individual, and therefore the token is **not valid** for targeted advertising.
>>>>>>> 1ede9aa (Update from https://github.com/IABTechLab/uid2docs/commit/c9d902a1e3bc9f0705fcab32da506c452118cb6e)
=======
- When steps are performed in sequence, the resulting value can be recognized as related to other instances of tokens generated from online activity by the same individual: the underlying [raw UID2](../ref-info/glossary-uid.md#gl-raw-uid2) matches other tokens generated from the same raw UID2, and therefore the token is suitable for targeted advertising.
- If steps are taken out of sequence, the resulting value cannot be related to other instances of tokens generated from online activity by the same individual, and therefore the token is not suitable for targeted advertising.
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
=======
- When steps are performed in sequence, the resulting value can be recognized as related to other [UID2 identifiers](../intro.md#uid2-identifier-types) generated from online activity by the same individual: the underlying [raw UID2](../ref-info/glossary-uid.md#gl-raw-uid2) matches the raw UID2s generated by other UID2 participants from the same DII, and therefore the token is suitable for targeted advertising.
=======
- When steps are performed in sequence, the resulting value can be recognized as related to other [UID2 identifiers](uid-infrastructure.md#uid2-identifier-types) generated from online activity by the same individual: the underlying [raw UID2](../ref-info/glossary-uid.md#gl-raw-uid2) matches the raw UID2s generated by other UID2 participants from the same DII, and therefore the token is suitable for targeted advertising.
>>>>>>> f0169e5 (Update from https://github.com/IABTechLab/uid2docs/commit/4802b49827c38003a5f8af9d95d8352f1ea3d8c1)
- If steps are taken out of sequence, the resulting value cannot be related to other UID2 identifiers generated from online activity by the same individual, and therefore the token is not suitable for targeted advertising.
>>>>>>> 31f0816 (Update from https://github.com/IABTechLab/uid2docs/commit/acb34a6c79a83aa6ad06c08b8a72e2bb3ff32a8f)
=======
パブリッシャーの手順を正しい順序で実行することが非常に重要です:
- 手順が順番に実行された場合、その結果の値は、同じ個人のオンラインアクティビティから生成された他の [UID2 identifier types](uid-identifier-types.md) と関連付けられることが認識されます: 基礎となる [raw UID2](../ref-info/glossary-uid.md#gl-raw-uid2) は、同じ DII から生成された他の UID2 参加者による raw UID2 と一致し、したがってそのトークンはターゲティング広告に適しています。
- 順序を間違えると、その結果の値は、同じ個人のオンラインアクティビティから生成された他の UID2 identifiers と関連付けられることができません。そのため、そのトークンはターゲティング広告に適していません。
>>>>>>> 6cd49ff (Update from https://github.com/IABTechLab/uid2docs/commit/470efa727aa7532fad7cf4018b4debf05568c0f8)

概要は、[Steps to Create a UID2 Token](#steps-to-create-a-uid2-token) を参照してください。図形式の例は、[Creating a UID2 Token&#8212;Example](#creating-a-uid2-tokenexample) を参照してください。

## Steps to Create a UID2 Token

以下の表は、DII から UID2 Token を作成する手順、順序、および各ステップを実行する担当者を示しています。

サンプル値を使用した例は、[Creating a UID2 Token&#8212;Example](#creating-a-uid2-tokenexample) を参照してください。

<table width="100%">
  <thead>
    <tr>
      <th width="5%">Step</th>
<<<<<<< HEAD
<<<<<<< HEAD
      <th width="35%">Action</th>
      <th width="30%">Who Does It?</th>
      <th width="35%">Documentation</th>
=======
      <th width="30%">Action</th>
      <th width="25%">Who Does It?</th>
      <th width="25%">Documentation</th>
      <th width="15%">[Example](#creating-a-uid2-tokenexample)</th>
>>>>>>> 1ede9aa (Update from https://github.com/IABTechLab/uid2docs/commit/c9d902a1e3bc9f0705fcab32da506c452118cb6e)
=======
      <th width="35%">Action</th>
      <th width="30%">Who Does It?</th>
      <th width="35%">Documentation</th>
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
      <td><Link href="../ref-info/glossary-uid#gl-normalize">Normalization</Link></td>
      <td>**Email**: Publisher or UID2 Operator<br/>**Phone number**: Publisher must normalize</td>
=======
      <td><Link href="../ref-info/glossary-uid#gl-normalize">正規化</Link></td>
      <td>**Email**: パブリッシャーまたは UID2 Operator<br/>**Phone number**: パブリッシャーが正規化する必要があります</td>
>>>>>>> 6cd49ff (Update from https://github.com/IABTechLab/uid2docs/commit/470efa727aa7532fad7cf4018b4debf05568c0f8)
      <td>[Email Address Normalization](../getting-started/gs-normalization-encoding.md#email-address-normalization)<br/>[Phone Number Normalization](../getting-started/gs-normalization-encoding.md#phone-number-normalization)</td>
    </tr>
    <tr>
      <td>2</td>
      <td>正規化されたメールアドレスに <Link href="../ref-info/glossary-uid#gl-sha-256">SHA-256</Link> ハッシュを適用</td>
      <td>パブリッシャーまたは UID2 Operator</td>
      <td>[Email Address Hash Encoding](../getting-started/gs-normalization-encoding.md#email-address-hash-encoding)<br/>[Phone Number Hash Encoding](../getting-started/gs-normalization-encoding.md#phone-number-hash-encoding)</td>
    </tr>
    <tr>
      <td>3</td>
      <td>SHA-256 ハッシュに Base64 エンコーディングを適用</td>
      <td>パブリッシャーまたは UID2 Operator</td>
      <td>[Email Address Hash Encoding](../getting-started/gs-normalization-encoding.md#email-address-hash-encoding)<br/>[Phone Number Hash Encoding](../getting-started/gs-normalization-encoding.md#phone-number-hash-encoding)</td>
=======
      <td>Normalization</td>
=======
      <td><Link href="../ref-info/glossary-uid#gl-normalize">Normalization</Link></td>
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
      <td>**Email**: Publisher or UID2 Operator<br/>**Phone number**: Publisher must normalize</td>
      <td>[Email Address Normalization](../getting-started/gs-normalization-encoding.md#email-address-normalization)<br/>[Phone Number Normalization](../getting-started/gs-normalization-encoding.md#phone-number-normalization)</td>
    </tr>
    <tr>
      <td>2</td>
      <td><Link href="../ref-info/glossary-uid#gl-sha-256">SHA-256</Link> hashing of normalized email address</td>
      <td>Publisher or UID2 Operator</td>
      <td>[Email Address Hash Encoding](../getting-started/gs-normalization-encoding.md#email-address-hash-encoding)<br/>[Phone Number Hash Encoding](../getting-started/gs-normalization-encoding.md#phone-number-hash-encoding)</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Base64 encoding of SHA-256 hash</td>
      <td>Publisher or UID2 Operator</td>
      <td>[Email Address Hash Encoding](../getting-started/gs-normalization-encoding.md#email-address-hash-encoding)<br/>[Phone Number Hash Encoding](../getting-started/gs-normalization-encoding.md#phone-number-hash-encoding)</td>
<<<<<<< HEAD
      <td>Column 1</td>
>>>>>>> 1ede9aa (Update from https://github.com/IABTechLab/uid2docs/commit/c9d902a1e3bc9f0705fcab32da506c452118cb6e)
=======
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
    </tr>
    <tr>
      <td>4</td>
<<<<<<< HEAD
      <td>Send value to UID2 Operator via the [POST&nbsp;/token/generate](../endpoints/post-token-generate.md) endpoint, an SDK, Prebid.js, or another supported integration.</td>
      <td>Publisher</td>
      <td>Various: for a summary, see [Implementation Resources](../overviews/overview-publishers.md#implementation-resources)</td>
<<<<<<< HEAD
<<<<<<< HEAD
=======
      <td>Not shown</td>
>>>>>>> 1ede9aa (Update from https://github.com/IABTechLab/uid2docs/commit/c9d902a1e3bc9f0705fcab32da506c452118cb6e)
=======
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
=======
      <td>[POST&nbsp;/token/generate](../endpoints/post-token-generate.md) エンドポイント、SDK、Prebid.js、または他のサポートされているインテグレーション機能を使用して、UID2 Operator に値を送信します。</td>
      <td>パブリッシャー</td>
      <td>さまざま: 概要は、[Implementation Resources](../overviews/overview-publishers.md#implementation-resources) を参照してください。</td>
>>>>>>> 6cd49ff (Update from https://github.com/IABTechLab/uid2docs/commit/470efa727aa7532fad7cf4018b4debf05568c0f8)
    </tr>
     <tr>
      <td>5</td>
      <td>ハッシュ値と秘密の <Link href="../ref-info/glossary-uid#gl-salt">ソルト</Link> 値の追加を含む複数の手順を実行し、raw UID2 を作成</td>
      <td>UID2 Operator</td>
<<<<<<< HEAD
      <td>Not applicable: these steps are all performed by the UID2 Operator.</td>
<<<<<<< HEAD
<<<<<<< HEAD
=======
      <td>Column 2</td>
>>>>>>> 1ede9aa (Update from https://github.com/IABTechLab/uid2docs/commit/c9d902a1e3bc9f0705fcab32da506c452118cb6e)
=======
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
=======
      <td>該当なし: これらの手順はすべて UID2 Operator が実行します</td>
>>>>>>> 6cd49ff (Update from https://github.com/IABTechLab/uid2docs/commit/470efa727aa7532fad7cf4018b4debf05568c0f8)
    </tr>
     <tr>
      <td>6</td>
      <td>raw UID2 を暗号化して UID2 token を作成</td>
      <td>UID2 Operator</td>
<<<<<<< HEAD
      <td>Not applicable: performed by the UID2 Operator.</td>
<<<<<<< HEAD
<<<<<<< HEAD
=======
      <td>Column 3</td>
>>>>>>> 1ede9aa (Update from https://github.com/IABTechLab/uid2docs/commit/c9d902a1e3bc9f0705fcab32da506c452118cb6e)
=======
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
=======
      <td>該当なし: UID2 Operator が実行します</td>
>>>>>>> 6cd49ff (Update from https://github.com/IABTechLab/uid2docs/commit/470efa727aa7532fad7cf4018b4debf05568c0f8)
    </tr>
 </tbody>
</table>

## Creating a UID2 Token&#8212;Example

以下の図は、[raw UID2](../ref-info/glossary-uid.md#gl-raw-uid2)（第1列、第2列）を作成し、その後 [UID2 Token](../ref-info/glossary-uid.md#gl-uid2-token)（第3列）を作成するための手順を示しています。

パブリッシャーは、[POST&nbsp;/token/generate](../endpoints/post-token-generate.md) エンドポイントにリクエストを送信するか、SDK または Prebid のような他のインテグレーションオプションを使用できます。どのインテグレーションオプションを使用しても、その結果は UID2 Token です。これは、パブリッシャーがビッドストリームで送信できる暗号化された値です。

![Sequential steps for creating a UID2](images/HowUID2Created_UID2ImplementationPlaybook.jpg)
<<<<<<< HEAD
<<<<<<< HEAD
=======

The token cannot be reverse engineered to tie back to the advertiser side. The UID2 process operates by passing an email or its hashed equivalent to the UID2 Operator, and the Operator then processes and encrypts the value to create a UID2 token. Demand-Side Platforms (DSPs) decrypt this token to arrive at the underlying raw UID2, and can then align it with UID2 segments predefined by advertisers who have transformed their data into UID2 format. Each participant only has access to their own specific information.
>>>>>>> 1ede9aa (Update from https://github.com/IABTechLab/uid2docs/commit/c9d902a1e3bc9f0705fcab32da506c452118cb6e)
=======
>>>>>>> 281496d (Update from https://github.com/IABTechLab/uid2docs/commit/f1209edd0d5f4b71419663f4fab419e7f2645c3b)
